<!DOCTYPE html>
<html>
<head>
	<link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">

	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>R for Data Science: Get ALL the Exercises Done!  - Yuan Tian</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="R for Data Science: Get ALL the Exercises Done! " />
<meta property="og:description" content="1. Data Visulization with ggplot2The mpg dataset examplesThe diamonds dataset examplesPosition Adjustment and Coordinate Systems2. Workflow:Basics &amp; Shortcuts (print,&lt;-,Alt&#43;Shift&#43;K,tab)3. Data Transformation with dplyrWorkflow scripts and Exploratory Data AnalysisReference: R for Data Science: Import, Tidy, Transform, Visualize, and Model Data
Using R Markdown together with exercises in each chapter of this book, I am trying to document my learning path on R." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/exercises/r-for-data-science-get-all-the-exercises-done/" />
<meta property="article:published_time" content="2017-12-22T00:00:00+00:00" />
<meta property="article:modified_time" content="2017-12-22T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="R for Data Science: Get ALL the Exercises Done! "/>
<meta name="twitter:description" content="1. Data Visulization with ggplot2The mpg dataset examplesThe diamonds dataset examplesPosition Adjustment and Coordinate Systems2. Workflow:Basics &amp; Shortcuts (print,&lt;-,Alt&#43;Shift&#43;K,tab)3. Data Transformation with dplyrWorkflow scripts and Exploratory Data AnalysisReference: R for Data Science: Import, Tidy, Transform, Visualize, and Model Data
Using R Markdown together with exercises in each chapter of this book, I am trying to document my learning path on R."/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">
	<link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" media="screen" href="/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="/css/main.css" />
	<link rel="stylesheet" type="text/css" href="/css/custom.css" />
	<link rel="stylesheet" type="text/css" href="/css/dark.css" media="(prefers-color-scheme: dark)" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script src="/js/main.js"></script>
	<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
	<script src="/js/custom1.js"></script>
</head>


<body>
	<div class="container wrapper post">
		<div class="header">
	<h1 class="site-title"><a href="/">Yuan Tian</a></h1>
	<div class="site-description"><h2>PhD life | Computer &amp; Health Science | Music and Dance | Views Are My Own</h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/tianyuan/yuantianweb" title="Github"><i data-feather="github"></i></a><a href="https://scholar.google.com/citations?user=8x0i6jAAAAAJ&amp;hl=en" title="Google Scholar"><i data-feather="book"></i></a><a href="https://www.goodreads.com/yuantian09" title="GoodReads"><i data-feather="star"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/exercises">All exercises</a>
			</li>
			
			<li>
				<a href="/categories/">Categories</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
			<li>
				<a href="/quotes">Quotes</a>
			</li>
			
			<li>
				<a href="/years">Years</a>
			</li>
			
			<li>
				<a href="/about">About Yuan</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">R for Data Science: Get ALL the Exercises Done! </h1>
			<p class="meta">
			
			
			
			
			Tags:
			
			<a href='/tags/2017'>2017</a>  &nbsp;&nbsp;
			
			<a href='/tags/books'>Books</a>  &nbsp;&nbsp;
			
			<a href='/tags/notes'>notes</a>  &nbsp;&nbsp;
			
			<a href='/tags/plot'>plot</a>  &nbsp;&nbsp;
			
			<a href='/tags/r-markdown'>R Markdown</a>  &nbsp;&nbsp;
			
			
			
			
			
			</p>
			<div class="meta">Yuan Tian Posted at &mdash; Dec 22, 2017</div>
			
		</div>

		<div class="markdown">
			

<div id="TOC">
<ul>
<li><a href="#data-visulization-with-ggplot2">1. Data Visulization with <strong>ggplot2</strong></a><ul>
<li><a href="#the-mpg-dataset-examples">The <strong>mpg</strong> dataset examples</a></li>
<li><a href="#the-diamonds-dataset-examples">The <strong>diamonds</strong> dataset examples</a></li>
<li><a href="#position-adjustment-and-coordinate-systems">Position Adjustment and Coordinate Systems</a></li>
</ul></li>
<li><a href="#workflowbasics-shortcuts-print-altshiftktab">2. Workflow:Basics &amp; Shortcuts (print,<code>&lt;-</code>,<code>Alt+Shift+K</code>,<code>tab</code>)</a></li>
<li><a href="#data-transformation-with-dplyr">3. Data Transformation with <strong>dplyr</strong></a></li>
<li><a href="#workflow-scripts-and-exploratory-data-analysis">Workflow scripts and Exploratory Data Analysis</a></li>
</ul>
</div>

<p><img src="/img/rfordatascience.png" alt="R for Data Science: Import, Tidy, Transform, Visualize, and Model Data" />
<strong>Reference:</strong> <a href="https://www.amazon.com/Data-Science-Transform-Visualize-Model/dp/1491910399">R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</a></p>
<p>Using <a href="http://rmarkdown.rstudio.com/index.html">R Markdown</a> together with exercises in each chapter of this book, I am trying to document my learning path on R. <a href="http://rmarkdown.rstudio.com/lesson-1.html">“How to get started with R Markdown”</a>, and the <a href="http://rmarkdown.rstudio.com/lesson-15.html">R Markdown Cheatsheet</a> are good reference sources for R Markdown.</p>
<p>This article will have tons of examples regarding what <strong>R</strong> can do for <strong>Data Science</strong>.</p>
<div id="data-visulization-with-ggplot2" class="section level2">
<h2>1. Data Visulization with <strong>ggplot2</strong></h2>
<p>After installing the <strong>tidyverse</strong> package, load the <strong>tidyverse</strong> by running this code only once:</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<div id="the-mpg-dataset-examples" class="section level3">
<h3>The <strong>mpg</strong> dataset examples</h3>
<p>The <strong>mpg</strong> data which contains the US Environment Protection Agency on 38 models of cars will be used for graph plotting.</p>
<pre class="r"><code>mpg
## # A tibble: 234 x 11
##    manufacturer model    displ  year   cyl trans   drv     cty   hwy fl    class
##    &lt;chr&gt;        &lt;chr&gt;    &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt;
##  1 audi         a4         1.8  1999     4 auto(l~ f        18    29 p     comp~
##  2 audi         a4         1.8  1999     4 manual~ f        21    29 p     comp~
##  3 audi         a4         2    2008     4 manual~ f        20    31 p     comp~
##  4 audi         a4         2    2008     4 auto(a~ f        21    30 p     comp~
##  5 audi         a4         2.8  1999     6 auto(l~ f        16    26 p     comp~
##  6 audi         a4         2.8  1999     6 manual~ f        18    26 p     comp~
##  7 audi         a4         3.1  2008     6 auto(a~ f        18    27 p     comp~
##  8 audi         a4 quat~   1.8  1999     4 manual~ 4        18    26 p     comp~
##  9 audi         a4 quat~   1.8  1999     4 auto(l~ 4        16    25 p     comp~
## 10 audi         a4 quat~   2    2008     4 manual~ 4        20    28 p     comp~
## # ... with 224 more rows</code></pre>
<p>To plot <strong>mpg</strong>, creat a graph with <strong>displ</strong> as x-axis and <strong>hwy</strong> as y-axis.</p>
<pre class="r"><code>ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Make a scatterplot of <strong>hwy</strong> versus <strong>cyl</strong>.</p>
<pre class="r"><code>ggplot(data=mpg)+
  geom_point(mapping=aes(x=hwy,y=cyl))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>Add <strong>class</strong> variable to review the class of each car in scatterplot of <strong>displ</strong> and <strong>hwy</strong>. Try the <code>size</code>,<code>color</code>,<code>alpha</code>, and <code>shape</code>options within <code>aes()</code>.</p>
<pre class="r"><code>## A slightly different way of coding to draw the graph. 
ggplot(data=mpg, mapping=aes(displ,hwy))+
  geom_point()</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,color=class))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-2.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,size=class))
## Warning: Using size for a discrete variable is not advised.</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-3.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,alpha=class))
## Warning: Using alpha for a discrete variable is not advised.</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-4.png" width="672" /></p>
<pre class="r"><code>##maximum 6 shpaes at a time in ggplot2. 
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,shape=class))
## Warning: The shape palette can deal with a maximum of 6 discrete values because
## more than 6 becomes difficult to discriminate; you have 7. Consider
## specifying shapes manually if you must have them.
## Warning: Removed 62 rows containing missing values (geom_point).</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-5.png" width="672" /></p>
<pre class="r"><code>##This only replace the color label to be &quot;blue&quot;
ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy,color=&quot;blue&quot;))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-4-6.png" width="672" />
Using <strong><code>Facets</code></strong>, facet the plot by a single variable, use <code>facet_wrap()</code>. Now, facet the plot by <code>class</code> variable. Type <code>?facet_wrap</code> for more help.</p>
<pre class="r"><code>ggplot(data = mpg)+
  geom_point(mapping=aes(x=displ,y=hwy))+
               facet_wrap(~ class, nrow = 1)</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-5-1.png" width="672" />
To facet two variables <code>drv</code> and <code>cyl</code>, use <code>facet_grid()</code> with variables seperated by <code>~</code>.</p>
<pre class="r"><code>ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy))+
  facet_grid(drv~cyl)</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-6-1.png" width="672" />
More with <code>gemo_xxx</code> plotting options, such <code>linetype</code>,‘group’</p>
<pre class="r"><code>ggplot(data=mpg)+
  geom_smooth(mapping=aes(x=displ,y=hwy))
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>##Add &#39;drv&#39; variable in the plot
ggplot(data=mpg)+
  geom_smooth(mapping=aes(x=displ,y=hwy,linetype=drv))
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<pre class="r"><code>##add geom point as on top of it.
ggplot(data=mpg)+
  geom_smooth(mapping=aes(x=displ,y=hwy,linetype=drv))+
  geom_point(mapping=aes(x=displ,y=hwy,color=drv))
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-7-3.png" width="672" />
You typed <code>aes(x=displ,y=hwy)</code> more than once, to avoid duplication, you can try this code to generate the same plot.</p>
<pre class="r"><code>ggplot(data=mpg,mapping=aes(x=displ, y=hwy))+
  geom_point(mapping = aes(color = drv))+
  geom_smooth(mapping =aes(linetype = drv))
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>
##Another example
ggplot(data=mpg,mapping=aes(x=displ,y=hwy))+
  geom_point(mapping = aes(color=class))+
  geom_smooth(se=FALSE)
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=mpg,mapping=aes(x=displ,y=hwy))+
  geom_point(mapping = aes(color=class))+
  geom_smooth(se=TRUE)
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=mpg,mapping=aes(x=displ,y=hwy))+
  geom_point(mapping = aes(color=drv))+
  geom_smooth(se=FALSE,mapping=aes(color=drv))
## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
</div>
<div id="the-diamonds-dataset-examples" class="section level3">
<h3>The <strong>diamonds</strong> dataset examples</h3>
<p>From now on, we will try a different type of graph <strong>geom_bar()</strong>. The <strong><code>diamonds</code></strong> dataset comes in <strong>ggplot2</strong> with round ~54,000 diamonds, including <em>price</em>,<em>carat</em>,<em>color</em>,<em>clarity</em>,and <em>cut</em>.</p>
<pre class="r"><code>diamonds
## # A tibble: 53,940 x 10
##    carat cut       color clarity depth table price     x     y     z
##    &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 0.23  Ideal     E     SI2      61.5    55   326  3.95  3.98  2.43
##  2 0.21  Premium   E     SI1      59.8    61   326  3.89  3.84  2.31
##  3 0.23  Good      E     VS1      56.9    65   327  4.05  4.07  2.31
##  4 0.290 Premium   I     VS2      62.4    58   334  4.2   4.23  2.63
##  5 0.31  Good      J     SI2      63.3    58   335  4.34  4.35  2.75
##  6 0.24  Very Good J     VVS2     62.8    57   336  3.94  3.96  2.48
##  7 0.24  Very Good I     VVS1     62.3    57   336  3.95  3.98  2.47
##  8 0.26  Very Good H     SI1      61.9    55   337  4.07  4.11  2.53
##  9 0.22  Fair      E     VS2      65.1    61   337  3.87  3.78  2.49
## 10 0.23  Very Good H     VS1      59.4    61   338  4     4.05  2.39
## # ... with 53,930 more rows
##draw a bar chart with counts by “cut&quot;
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,y=..count..))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<pre class="r"><code>
##draw a bar chart with counts by clarity
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=clarity))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-9-3.png" width="672" />
<code>geom_bar()</code> use <em><code>stat_count</code></em> by default, so the same plot can be plotted using this code:</p>
<pre class="r"><code>  ggplot(data = diamonds)+
  stat_count(mapping = aes（x=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>To override the default <code>stat_count</code> setting (e.g. <code>identify</code>). See the following code as an example.</p>
<pre class="r"><code>demo&lt;-tribble(
~a,~b,
&quot;bar_1&quot;,20,
&quot;bar_2&quot;,30,
&quot;bar_3&quot;,40)

## draw the plot
ggplot(data=demo)+
  geom_bar(mapping=aes(x=a,y=b),stat = &quot;identity&quot;)</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<pre class="r"><code>
##draw the plot using geom_col, geom_col use &quot;identity&quot; as the default.
ggplot(data=demo)+
  geom_col(mapping=aes(x=a,y=b))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-11-2.png" width="672" /></p>
<p>If you want to display the proportion, try this code:</p>
<pre class="r"><code># Way 1 (be sure to add the &quot;group = 1&quot; to overide the default option, otherwise it won&#39;t work)
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,y=..prop..,group=1))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<pre class="r"><code># Way 2 Another way is to use the &quot;..count..&quot;
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,y=(..count..)/sum(..count..)))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-12-2.png" width="672" /></p>
<p>For bar plot, you might want to calculate or summarize statistics for each unique <code>x</code> value and draw attention to the summary. <code>stat_summary()</code> should be your choice. There are over 20 stats for you to use. I used <code>stat_bin()</code> on a continuous variable <code>depth</code> to showcase.</p>
<pre class="r"><code>ggplot(data=diamonds)+
  stat_summary(
    mapping=aes(x=cut,y=depth),
    fun.ymin = min,
    fun.ymax = max,
    fun.y = median 
  )</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="r"><code>## stat_bin on a continuous variable with default bin_size = 30.
ggplot(data=diamonds)+
  stat_bin(
    mapping=aes(x=depth)
  )
## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
</div>
<div id="position-adjustment-and-coordinate-systems" class="section level3">
<h3>Position Adjustment and Coordinate Systems</h3>
<p><strong>Position Adjustment</strong> with either <code>color</code> or <code>fill</code> options.</p>
<pre class="r"><code>ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,color=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<pre class="r"><code>## try the &quot;fill&quot; option
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,fill=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-2.png" width="672" /></p>
<pre class="r"><code>##try the &quot;fill option with a different categorial variable
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,fill=clarity))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-3.png" width="672" /></p>
<pre class="r"><code>## if you don&#39;t want a stacked bar chart, try one of the three options with &quot;position = identity&quot;, &quot;dodge&quot;, or &quot;fill&quot;
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,fill=clarity),
  position = &quot;fill&quot;)</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-4.png" width="672" /></p>
<pre class="r"><code>## position = &quot;dodged&quot;. 
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,fill=clarity),
  position = &quot;dodge&quot;) </code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-5.png" width="672" /></p>
<pre class="r"><code>## try position = &quot;identity&quot;
ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=cut,fill=clarity),
  position = &quot;identity&quot;) </code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-14-6.png" width="672" /></p>
<p>Position adjustment can also be useful for scatterplot for 2 discrete variables where their values might be <code>overplotting</code> or on top of each other. See this code as an example using <code>jitter</code> which will add random noise to improve your plot:</p>
<pre class="r"><code>ggplot(data=mpg)+
  geom_point(mapping=aes(x=displ,y=hwy),
             position =&quot;jitter&quot;)</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-15-1.png" width="672" />
<strong>Coordinate System</strong>: flip the axis using `coord_flip() for neater display.
Let’s try a boxplot as an example.</p>
<pre class="r"><code>ggplot(data=mpg,mapping=aes(x=class,y=hwy))+
  geom_boxplot()</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<pre class="r"><code>##flip coordinates
ggplot(data=mpg,mapping=aes(x=class,y=hwy))+
  geom_boxplot()+
  coord_flip()</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-16-2.png" width="672" />
For maps, you might need to use <code>coord_polar()</code> for polar coordinates, or <code>coord_quickmap()</code> to set the aspect ratio for a map.</p>
<p>Here is an example to turn stacked bar chart into a pie chart using <code>coord_polar()</code>.</p>
<pre class="r"><code>bar&lt;-ggplot(data=diamonds)+
  geom_bar(aes(x=cut,fill=cut),width = 1)

bar + coord_flip()</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<pre class="r"><code>bar + coord_polar()</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-17-2.png" width="672" /></p>
<p>###Summary on <strong>ggplot</strong>
<strong>The layered Grammar of Graphics</strong></p>
<pre><code>ggplot(data=&lt;DATA&gt;)+
  &lt;geom_function&gt;(mapping=aes(&lt;mapping&gt;),
                  stat=&lt;STAT&gt;,
                  position=&lt;POSITION&gt;
                  )+
  &lt;COORDINATE_FUNCTION&gt;+
  &lt;FACET_FUNCTION&gt;</code></pre>
<p>Exercice using <code>diamonds</code> dataset.</p>
<ol style="list-style-type: decimal">
<li>Compute count for each <code>cut</code> value.</li>
</ol>
<pre class="r"><code>ggplot(data=diamonds)+
  stat_count(mapping=aes(x=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-18-1.png" width="672" />
2. Fill each bar with a color.</p>
<pre class="r"><code>ggplot(data=diamonds)+
  stat_count(mapping=aes(x=cut,fill=cut))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<ol start="3" style="list-style-type: decimal">
<li>Calcuate the proption by <code>clarity</code> variable.</li>
</ol>
<pre class="r"><code>ggplot(data=diamonds)+
  geom_bar(mapping=aes(x=clarity,y=..prop..,group = 1))</code></pre>
<p><img src="/exercises/2017-12-22-r-for-data-science-get-all-the-exercises-done_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
</div>
<div id="workflowbasics-shortcuts-print-altshiftktab" class="section level2">
<h2>2. Workflow:Basics &amp; Shortcuts (print,<code>&lt;-</code>,<code>Alt+Shift+K</code>,<code>tab</code>)</h2>
<p>It is useful to remember a few most-used shortcuts.</p>
<pre class="r"><code>z &lt;- seq(1,10,length.out = 8)
##Print to screen
(z &lt;- seq(1,10,length.out = 8))
## [1]  1.000000  2.285714  3.571429  4.857143  6.142857  7.428571  8.714286
## [8] 10.000000</code></pre>
</div>
<div id="data-transformation-with-dplyr" class="section level2">
<h2>3. Data Transformation with <strong>dplyr</strong></h2>
<p>###Filter Rows with <code>filter()</code></p>
<p>###Reorder/sort the rows with <code>arrange()</code></p>
<p>###Pick variables by names with <code>select()</code></p>
<p>###Create new variables with functions of existing variables with <code>mutate()</code></p>
<p>###Collapse many values to a summary statistics with <code>summarize()</code></p>
</div>
<div id="workflow-scripts-and-exploratory-data-analysis" class="section level2">
<h2>Workflow scripts and Exploratory Data Analysis</h2>
<p><em>Last updated on Jan 6, 2018. To be continued…</em></p>
</div>

		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/tags/2017">2017</a></li>
								
								<li><a href="/tags/books">Books</a></li>
								
								<li><a href="/tags/notes">notes</a></li>
								
								<li><a href="/tags/plot">plot</a></li>
								
								<li><a href="/tags/r-markdown">R Markdown</a></li>
								
							</ul>
					</nav>
				
			
		</div>
		<div id="disqus_thread"></div>
<script type="text/javascript">
	(function () {
		
		
		if (window.location.hostname == "localhost")
			return;

		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		var disqus_shortname = 'ezhil-demo';
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
		Disqus.</a></noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> © Copyright notice |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>
<script src="//yihui.name/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.12.0/languages/r.min.js"></script>

<script>
hljs.configure({languages: ["r","yaml","tex"]});
hljs.initHighlightingOnLoad();
</script>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<script>feather.replace()</script>
</body>
</html>
